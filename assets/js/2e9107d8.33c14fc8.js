"use strict";(self.webpackChunkiota_wiki=self.webpackChunkiota_wiki||[]).push([[8460],{88896:function(t,e,n){n.r(e),n.d(e,{assets:function(){return c},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return i},metadata:function(){return u},toc:function(){return p}});var o=n(87462),a=n(63366),r=(n(67294),n(3905)),s=["components"],i={keywords:["Stardust","Shimmer","Upgrades","Storage","Deposit","Data","Protocol Improvements","explanation"],description:"Stardust introduces the new storage deposit system where data storage on protocol level is tied to refundable token deposits.",image:"/img/logo/preview.png"},l="Storage Deposit System",u={unversionedId:"explanations/what_is_stardust/storage_deposit",id:"explanations/what_is_stardust/storage_deposit",title:"Storage Deposit System",description:"Stardust introduces the new storage deposit system where data storage on protocol level is tied to refundable token deposits.",source:"@site/content/build/introduction-docs/develop/docs/explanations/what_is_stardust/storage_deposit.md",sourceDirName:"explanations/what_is_stardust",slug:"/explanations/what_is_stardust/storage_deposit",permalink:"/introduction/develop/explanations/what_is_stardust/storage_deposit",draft:!1,editUrl:"https://github.com/iotaledger/chrysalis-docs/edit/develop/content/build/introduction-docs/develop/docs/explanations/what_is_stardust/storage_deposit.md",tags:[],version:"current",frontMatter:{keywords:["Stardust","Shimmer","Upgrades","Storage","Deposit","Data","Protocol Improvements","explanation"],description:"Stardust introduces the new storage deposit system where data storage on protocol level is tied to refundable token deposits.",image:"/img/logo/preview.png"},sidebar:"mySidebar",previous:{title:"Tokenization",permalink:"/introduction/develop/explanations/what_is_stardust/tokenization"},next:{title:"Output Unlock Conditions",permalink:"/introduction/develop/explanations/what_is_stardust/unlock_conditions"}},c={},p=[{value:"Data Storage in Outputs",id:"data-storage-in-outputs",level:2}],d={toc:p};function m(t){var e=t.components,n=(0,a.Z)(t,s);return(0,r.kt)("wrapper",(0,o.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"storage-deposit-system"},"Storage Deposit System"),(0,r.kt)("p",null,"Nodes in any DLT network must have a copy of the most recent ledger to be able to create or verify new transactions. The\nmore user accounts there are, the more disk space is required on nodes to store the ledger state. Since transactions\nare feeless, a malicious user might bloat the ledger size by creating a lot of accounts with just a tiny amount of funds\n(dust) on them."),(0,r.kt)("p",null,"Chrysalis already implemented a mechanism that prevents this attack, but not without caveats:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"it relies on total ordering of transactions, hence renders it useless for IOTA 2.0,"),(0,r.kt)("li",{parentName:"ul"},"and it doesn't take into account that users can store arbitrary data in accounts too.")),(0,r.kt)("p",null,"Stardust improves the previous solution and introduces the new ",(0,r.kt)("strong",{parentName:"p"},"storage deposit")," system. One rents storage space in\nthe ledger by holding the base currency of the protocol. Any ledger entry (a transaction output) must have a minimum\namount of base currency tokens to cover for the storage on nodes. The amount depends solely on the size of the\nledger entry."),(0,r.kt)("p",null,"The storage deposit is not a fee, because it is fully refunded as soon as the ledger entry is cleaned up. Read more\nabout the new storage deposit system in ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/iotaledger/tips/blob/main/tips/TIP-0019/tip-0019.md"},"TIP-19"),"."),(0,r.kt)("h2",{id:"data-storage-in-outputs"},"Data Storage in Outputs"),(0,r.kt)("p",null,"Smart contract support of the base layer implies that transactions and outputs may carry not only funds, but also data\nto be interpreted by higher layer applications. Luckily the new storage deposit system makes this possible and regulates\nhow much data can be stored in outputs."),(0,r.kt)("p",null,"Why is it so important to store data in the ledger? Any application specific data for higher layer protocols can be\nshared via the ledger. The data is available on all network nodes as long as the outputs storing them are unspent."),(0,r.kt)("p",null,"Arbitrary data storage becomes a general feature of outputs. Some examples of where is it useful:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"smart contract chains store L2 state commitments in their alias accounts,"),(0,r.kt)("li",{parentName:"ul"},"smart contract users put L2 smart contract call data in transfers sent to the chain's account,"),(0,r.kt)("li",{parentName:"ul"},"NFTs have immutable attached metadata stored on-chain,"),(0,r.kt)("li",{parentName:"ul"},"native token issuers may store token metadata on-chain in foundries,"),(0,r.kt)("li",{parentName:"ul"},"digital identity solutions may store identity related data on-chain that is always available.")))}m.isMDXComponent=!0},3905:function(t,e,n){n.d(e,{Zo:function(){return c},kt:function(){return m}});var o=n(67294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e){if(null==t)return{};var n,o,a=function(t,e){if(null==t)return{};var n,o,a={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var l=o.createContext({}),u=function(t){var e=o.useContext(l),n=e;return t&&(n="function"==typeof t?t(e):s(s({},e),t)),n},c=function(t){var e=u(t.components);return o.createElement(l.Provider,{value:e},t.children)},p={inlineCode:"code",wrapper:function(t){var e=t.children;return o.createElement(o.Fragment,{},e)}},d=o.forwardRef((function(t,e){var n=t.components,a=t.mdxType,r=t.originalType,l=t.parentName,c=i(t,["components","mdxType","originalType","parentName"]),d=u(n),m=a,h=d["".concat(l,".").concat(m)]||d[m]||p[m]||r;return n?o.createElement(h,s(s({ref:e},c),{},{components:n})):o.createElement(h,s({ref:e},c))}));function m(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var r=n.length,s=new Array(r);s[0]=d;var i={};for(var l in e)hasOwnProperty.call(e,l)&&(i[l]=e[l]);i.originalType=t,i.mdxType="string"==typeof t?t:a,s[1]=i;for(var u=2;u<r;u++)s[u]=n[u];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);
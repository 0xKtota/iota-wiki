"use strict";(self.webpackChunkiota_wiki=self.webpackChunkiota_wiki||[]).push([[43541],{75285:(e,t,o)=>{o.d(t,{ZP:()=>l});var n=o(87462),i=(o(67294),o(3905));const r={toc:[]};function l(e){let{components:t,...o}=e;return(0,i.kt)("wrapper",(0,n.Z)({},r,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"More advanced examples can be found in the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/iotaledger/iota.rs/tree/develop/examples"},"examples")," folder."))}l.isMDXComponent=!0},27890:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>k,frontMatter:()=>a,metadata:()=>c,toc:()=>u});var n=o(87462),i=(o(67294),o(3905)),r=o(44393),l=o(75285);const a={title:"How To Get A Block"},s=void 0,c={unversionedId:"libraries/rust/how_to/get_block",id:"libraries/rust/how_to/get_block",title:"How To Get A Block",description:"Run it with",source:"@site/content/build/iota.rs/develop/documentation/docs/libraries/rust/how_to/get_block.mdx",sourceDirName:"libraries/rust/how_to",slug:"/libraries/rust/how_to/get_block",permalink:"/iota.rs/develop/libraries/rust/how_to/get_block",draft:!1,editUrl:"https://github.com/iotaledger/iota.rs/edit/develop/documentation/content/build/iota.rs/develop/documentation/docs/libraries/rust/how_to/get_block.mdx",tags:[],version:"current",frontMatter:{title:"How To Get A Block"},sidebar:"docs",previous:{title:"How To Get Node Info",permalink:"/iota.rs/develop/libraries/rust/how_to/get_node_info"},next:{title:"How To Create A Block",permalink:"/iota.rs/develop/libraries/rust/how_to/create_block"}},d={},u=[],p={toc:u};function k(e){let{components:t,...o}=e;return(0,i.kt)("wrapper",(0,n.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)(r.Z,{className:"language-rust",mdxType:"CodeBlock"},'// Copyright 2022 IOTA Stiftung\n// SPDX-License-Identifier: Apache-2.0\n\n//! Calls `GET /api/core/v2/blocks/{blockId}`.\n//! Returns block data as JSON by its identifier.\n//! Run: `cargo run --example node_api_core_get_block --release -- [NODE URL] [BLOCK ID]`.\n\nuse std::str::FromStr;\n\nuse iota_client::{block::BlockId, Client, Result};\n\n#[tokio::main]\nasync fn main() -> Result<()> {\n    // Take the node URL from command line argument or use one from env as default.\n    let node_url = std::env::args().nth(1).unwrap_or_else(|| {\n        // This example uses dotenv, which is not safe for use in production.\n        dotenv::dotenv().ok();\n        std::env::var("NODE_URL").unwrap()\n    });\n\n    // Create a client with that node.\n    let client = Client::builder()\n        .with_node(&node_url)?\n        .with_node_sync_disabled()\n        .finish()?;\n\n    // Take the block ID from command line argument or...\n    let block_id = if let Some(Ok(block_id)) = std::env::args().nth(2).map(|s| BlockId::from_str(&s)) {\n        block_id\n    } else {\n        // ... fetch one from the node.\n        client.get_tips().await?[0]\n    };\n\n    // Get the block.\n    let block = client.get_block(&block_id).await?;\n\n    println!("{block:#?}");\n\n    Ok(())\n}\n'),(0,i.kt)("p",null,"Run it with"),(0,i.kt)(r.Z,{className:"language-bash",mdxType:"CodeBlock"},"cargo run --example node_api_core_get_block --release -- [NODE URL] [BLOCK ID]"),(0,i.kt)(l.ZP,{mdxType:"MoreExamples"}))}k.isMDXComponent=!0}}]);
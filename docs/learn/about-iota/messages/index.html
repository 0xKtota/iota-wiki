<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="IOTA Wiki Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="IOTA Wiki Blog Atom Feed">
<link rel="preconnect" href="${matomoUrl}">
<script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){var a="https://matomo.antonionardella.it/";_paq.push(["setTrackerUrl",a+"matomo.php"]),_paq.push(["setSiteId","6"]);var e=document,t=e.createElement("script"),p=e.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=a+"matomo.js",p.parentNode.insertBefore(t,p)}()</script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">Messages | IOTA Wiki</title><meta data-react-helmet="true" property="og:url" content="https://wiki.iota.org/docs/learn/about-iota/messages"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Messages | IOTA Wiki"><meta data-react-helmet="true" name="description" content="This topic explores messages, models, and payloads that encompass the transfer of data within the Tangle."><meta data-react-helmet="true" property="og:description" content="This topic explores messages, models, and payloads that encompass the transfer of data within the Tangle."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://wiki.iota.org/docs/learn/about-iota/messages"><link data-react-helmet="true" rel="alternate" href="https://wiki.iota.org/docs/learn/about-iota/messages" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://wiki.iota.org/docs/learn/about-iota/messages" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.71942b32.css">
<link rel="preload" href="/assets/js/runtime~main.25fc0cbb.js" as="script">
<link rel="preload" href="/assets/js/main.d75ef5b9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><div class="announcementBar_3WsW" style="background-color:#ff0000;color:#fff" role="banner"><div class="announcementBarContent_3EUC">The work on this Wiki is still in progress. Consider contributing by using the in page editor or creating a <a href="https://github.com/iota-community/iota-wiki">PR directly</a></div></div><nav class="navbar navbar--fixed-top navbarHideable_1VR7"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="IOTA Wiki Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo_dark.svg" alt="IOTA Wiki Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><a class="navbar__item navbar__link" href="/docs/learn/about-iota/an-introduction-to-iota">Learn</a><a class="navbar__item navbar__link" href="/docs/use/use-cases/industry-applications">Use</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__item navbar__link">Develop</a><ul class="dropdown__menu"><li><a class="dropdown__link icon-getting-started" href="/docs/develop/getting-started/architecture">Getting Started</a></li><li style="font-size:10px;color:var(--ifm-color-emphasis-600);padding-top:10px">Chrysalis (IOTA 1.5)</li><li><a class="dropdown__link icon-chrysalis" href="/chrysalis-docs/welcome">Chrysalis Docs</a></li><li><a class="dropdown__link icon-bee" href="/bee/getting_started/getting_started">Bee Node</a></li><li><a class="dropdown__link icon-hornet" href="/hornet/welcome">Hornet Node</a></li><li style="font-size:10px;color:var(--ifm-color-emphasis-600);padding-top:10px">Libraries</li><li><a class="dropdown__link icon-iota-mark" href="/iota.rs/welcome">Core</a></li><li><a class="dropdown__link icon-wallet" href="/wallet.rs/welcome">Wallet</a></li><li><a class="dropdown__link icon-stronghold" href="/stronghold.rs/welcome">Stronghold</a></li><li><a class="dropdown__link icon-identity" href="/identity.rs/intro">Identity</a></li><li style="font-size:10px;color:var(--ifm-color-emphasis-600);padding-top:10px">Smart Contracts</li><li><a class="dropdown__link icon-wasp" href="/wasp/welcome">Wasp Node</a></li><li style="font-size:10px;color:var(--ifm-color-emphasis-600);padding-top:10px">Coordicide (IOTA 2.0)</li><li><a class="dropdown__link icon-iota-20" href="/IOTA-2.0-Research-Specifications/Preface">Coordicide Specs</a></li><li><a class="dropdown__link icon-goshimmer" href="/goshimmer/welcome">GoShimmer Node</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/participate/support-the-network/run-a-node">Participate</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="wiki-search" role="button" tabindex="-1"><div class="wiki-search-opened"><span class="toggle_10iL" style="font-family:Material Icons">close</span></div><div class="wiki-search-closed"><span class="toggle_10iL" style="font-family:Material Icons">search</span></div><input type="checkbox" class="wiki-search-screenreader-only" aria-label="Open and close search"></div><div class="wiki-search-page"><div class="wiki-search-header"></div><div class="wiki-search-main"><div class="wiki-search-bar"><div class="wiki-search-logo"><span class="toggle_10iL" style="font-family:Material Icons">search</span></div><input class="wiki-search-input"></div></div></div><div class="react-toggle toggle_2xs0 react-toggle--checked react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3D-N" style="font-family:Material Icons">light_mode</span></div><div class="react-toggle-track-x"><span class="toggle_3D-N" style="font-family:Material Icons">dark_mode</span></div></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/"><img src="/img/logo.svg" alt="IOTA Wiki Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo_dark.svg" alt="IOTA Wiki Logo" class="themedImage_1VuW themedImage--dark_hz6m"></a><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">About IOTA</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/about-iota/an-introduction-to-iota">An Introduction to IOTA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/about-iota/data-transfer">Data Transfer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/about-iota/value-transfer">Value Transfer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/about-iota/why-is-iota-feeless">Why is IOTA Feeless?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/about-iota/roadmap-to-decentralization">Roadmap to Decentralization</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/learn/about-iota/messages">Messages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/about-iota/security">Security</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/about-iota/energy-efficiency">Energy efficiency</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">IOTA Token</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Wallets</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Networks</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Resource Materials</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Research</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Messages</h1></header><p>A message is the object nodes gossip around in the network. It always references between one to eight other messages that are known as parents. It is stored as a vertex on the tangle data structure that the nodes maintain.</p><p>Messages can contain payloads. Some of them are core payloads that are processed by all nodes as part of the core protocol. Others are community payloads that enable the building of new functionalities on top of the Tangle. And some payloads have other nested payloads embedded inside. So upon parsing, it is done layer by layer.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="utxo"></a>UTXO<a class="hash-link" href="#utxo" title="Direct link to heading">#</a></h2><p>Previously, IOTA protocol used transactions (which were vertices in the Tangle), where each transaction defined either an input or output. A grouping of those input/output transaction vertices made up a bundle which transferred the given values as an atomic unit. But this approach was seen as too time-consuming. So, we adopted a new transaction structure called the unspent transaction outputs (UTXO).</p><p>The UTXO model defines a ledger state where balances are not directly associated to addresses, but to the outputs of transactions. In this model, transactions specify the outputs of previous transactions as inputs, which are consumed to create new outputs. A transaction must consume the entirety of the specified inputs.</p><p><img src="https://user-images.githubusercontent.com/77154511/127794259-10071fbe-4f04-4ab2-81eb-a0589f025a00.png" alt="utxo-model"></p><p>So, the UTXO is a part of a larger, self-contained, and flexible message structure known as a payload. This approach is meant to enable a self-contained message structure defining the data of the entire transfer as a payload to be embedded into a message.</p><p>Overall, these payload structures are simple:</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>Payload Type</td><td>uint32</td><td>must be set to <strong>2</strong></td></tr><tr><td>Index</td><td>String</td><td>The index key of the message, a UTF-8 encoded string</td></tr><tr><td>DATA</td><td>ByteArray</td><td>Data we are attaching</td></tr></tbody></table><p>Additionally, there can be three types of message payloads</p><ul><li>A transaction payload</li><li>An indexation payload</li><li>A milestone payload</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="message-payloads"></a>Message payloads<a class="hash-link" href="#message-payloads" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="transaction-payload"></a>Transaction payload<a class="hash-link" href="#transaction-payload" title="Direct link to heading">#</a></h3><p>A transaction payload is made up of two parts:</p><ol><li>The Transaction Essence part, which contains the inputs, outputs, and an optional embedded payload.</li><li>The Unlock Blocks, which unlocks the Transaction Essence&#x27;s inputs. In case the unlock block contains a signature, it signs the entire Transaction Essence part.</li></ol><p>In general, all parts of a transaction payload begin with a byte describing the type of the given part to keep the flexibility to introduce new types/versions of the given part in the future.</p><p>And, as mentioned above, the payload part of a Transaction Essence can hold an optional payload. This payload does not affect the validity of the Transaction Essence. If the transaction is not valid, then the payload must also be discarded.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="indexation-payload"></a>Indexation payload<a class="hash-link" href="#indexation-payload" title="Direct link to heading">#</a></h3><p>The concept of the payload allows for the addition of an index to the encapsulating message, as well as some arbitrary data. Nodes expose an API that enable the querying of messages by the index. Index payloads may also be contained within a transaction payload.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="milestone-payload"></a>Milestone payload<a class="hash-link" href="#milestone-payload" title="Direct link to heading">#</a></h3><p>A milestone payload contains the Milestone Essence, which consists of the actual milestone information (like its index number or position in the tangle), which is signed using the Ed25519 signature scheme. It uses keys of 32 bytes, while the generated signatures are 64 bytes.</p><p>To increase the security of the design, a milestone can (optionally) be independently signed by multiple keys at once. These keys should be operated by detached signature provider services running on independent infrastructure elements. This assist in mitigating the risk of an attacker having access to all the key material necessary for forging milestones.</p><p>In addition, a key rotation policy can also be enforced by limiting key validity to certain milestone intervals.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="conflict"></a>Conflict<a class="hash-link" href="#conflict" title="Direct link to heading">#</a></h3><p>Additionally, if messages are conflicting, milestones can confirm them by enforcing deterministic ordering by applying only the first message that will not violate the ledger state; this is accomplished by using the White Flag feature.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="validation"></a>Validation<a class="hash-link" href="#validation" title="Direct link to heading">#</a></h2><p>Finally, a message is considered valid if the following syntactic rules are met:</p><ol><li>The message size must not exceed 32 KiB (32 * 1024 bytes).</li><li>When parsing the message is complete, there should not be any trailing bytes left that were not parsed.</li><li>If the payload type is in the core payload range (0-127) and the node is familiar with it, or if it is above this range.</li><li>If the Message PoW Hash will contain at least the number of trailing 0 trits the node defines as required.</li><li>Parents&#x27; length must be between 1 to 8</li></ol></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="/edit/learn/about-iota/messages.md" target="_blank" rel="noreferrer noopener">Open in editor</a><span class="margin-horiz--sm">|</span><a href="https://github.com/iota-community/iota-wiki/edit/develop/docs/learn/about-iota/messages.md" target="_blank" rel="noreferrer noopener">Open on GitHub</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/learn/about-iota/roadmap-to-decentralization"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Roadmap to Decentralization</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/learn/about-iota/security"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Security »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#utxo" class="table-of-contents__link">UTXO</a></li><li><a href="#message-payloads" class="table-of-contents__link">Message payloads</a><ul><li><a href="#transaction-payload" class="table-of-contents__link">Transaction payload</a></li><li><a href="#indexation-payload" class="table-of-contents__link">Indexation payload</a></li><li><a href="#milestone-payload" class="table-of-contents__link">Milestone payload</a></li><li><a href="#conflict" class="table-of-contents__link">Conflict</a></li></ul></li><li><a href="#validation" class="table-of-contents__link">Validation</a></li></ul></div></div></div></div></main></div></div><footer class="footer padding--none padding-top--xl"><div class="row footer__links padding-top--lg padding-bottom--xl"><div class="col footer__col"><h4 class="footer__title">LEARN</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/learn/about-iota/an-introduction-to-iota">About IOTA</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/learn/iota-token/overview">IOTA Token</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/learn/wallets/what-is-a-wallet">Wallets</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/learn/networks/iota-1.5-chrysalis">Networks</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/learn/resource-materials/glossary">Resource Materials</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/learn/research/research-outline">Research</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">USE</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/use/use-cases/industry-applications">Use Cases</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/use/streams/encrypted-data-comms">Streams</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/use/identity/enabling-privacy-and-trust">Identity</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/use/access/secure-access-control">Access</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/use/smart-contracts/programmable-contracts">Smart Contracts</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/use/stronghold/protecting-your-secrets">Stronghold</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/use/oracles/trust-in-real-world-data">Oracles</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/use/utilities/tangle-explorer">Utilities</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">DEVELOP</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/develop/getting-started/architecture">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/develop/fundamentals/cryptography">Fundamentals</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/develop/exchange-integration/guide">Exchange Integration</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/develop/tutorials/youtube">Tutorials</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">PARTICIPATE</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/participate/support-the-network/run-a-node">Support the network</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/participate/the-community/discord">The Community</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/participate/partnerships/iota-partnerships">Partnerships</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/participate/funding/edf-funding">Funding</a></li></ul></div></div><div class="footer__bottom padding-top--xl padding-bottom--lg"><div><a href="https://www.iota.org" target="_blank" rel="noopener noreferrer"><img src="/img/iota_logo.svg" alt="IOTA Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/iota_logo_dark.svg" alt="IOTA Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">© 2021 IOTA Wiki, Built with Docusaurus.</div></div><div class="socialBar_2nY3"><a class="padding-horiz--sm padding-vert--md socialLink_1As6" style="background-color:#18243C" href="https://www.youtube.com/c/iotafoundation"><img class="socialImage_2plZ" src="/img/youtube.svg"><div class="socialTitle_3JEm">Youtube</div></a><a class="padding-horiz--sm padding-vert--md socialLink_1As6" style="background-color:#24314A" href="https://www.github.com/iotaledger/"><img class="socialImage_2plZ" src="/img/github.svg"><div class="socialTitle_3JEm">GitHub</div></a><a class="padding-horiz--sm padding-vert--md socialLink_1As6" style="background-color:#303C56" href="https://discord.iota.org/"><img class="socialImage_2plZ" src="/img/discord.svg"><div class="socialTitle_3JEm">Discord</div></a><a class="padding-horiz--sm padding-vert--md socialLink_1As6" style="background-color:#3B4862" href="https://www.twitter.com/iota/"><img class="socialImage_2plZ" src="/img/twitter.svg"><div class="socialTitle_3JEm">Twitter</div></a><a class="padding-horiz--sm padding-vert--md socialLink_1As6" style="background-color:#47546F" href="https://www.reddit.com/r/iota/"><img class="socialImage_2plZ" src="/img/reddit.svg"><div class="socialTitle_3JEm">Reddit</div></a><a class="padding-horiz--sm padding-vert--md socialLink_1As6" style="background-color:#52607B" href="https://www.linkedin.com/company/iotafoundation/"><img class="socialImage_2plZ" src="/img/linkedin.svg"><div class="socialTitle_3JEm">Linkedin</div></a><a class="padding-horiz--sm padding-vert--md socialLink_1As6" style="background-color:#5E6B87" href="https://www.instagram.com/iotafoundation/"><img class="socialImage_2plZ" src="/img/instagram.svg"><div class="socialTitle_3JEm">Instagram</div></a></div></footer></div>
<script src="/assets/js/runtime~main.25fc0cbb.js"></script>
<script src="/assets/js/main.d75ef5b9.js"></script>
</body>
</html>
<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="IOTA Wiki Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="IOTA Wiki Blog Atom Feed">
<link rel="preconnect" href="${matomoUrl}">
<script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){var a="https://matomo.antonionardella.it/";_paq.push(["setTrackerUrl",a+"matomo.php"]),_paq.push(["setSiteId","6"]);var e=document,t=e.createElement("script"),p=e.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=a+"matomo.js",p.parentNode.insertBefore(t,p)}()</script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">tr-fa | IOTA Wiki</title><meta data-react-helmet="true" property="og:url" content="https://wiki.iota.org/wasp/in_progress/todo/tr-fa"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-wasp-current"><meta data-react-helmet="true" property="og:title" content="tr-fa | IOTA Wiki"><meta data-react-helmet="true" name="description" content="Obsolete. To be adjusted to the new version"><meta data-react-helmet="true" property="og:description" content="Obsolete. To be adjusted to the new version"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://wiki.iota.org/wasp/in_progress/todo/tr-fa"><link data-react-helmet="true" rel="alternate" href="https://wiki.iota.org/wasp/in_progress/todo/tr-fa" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://wiki.iota.org/wasp/in_progress/todo/tr-fa" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.71942b32.css">
<link rel="preload" href="/assets/js/runtime~main.1e16e89f.js" as="script">
<link rel="preload" href="/assets/js/main.c81b7703.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><div class="announcementBar_3WsW" style="background-color:#ff0000;color:#fff" role="banner"><div class="announcementBarContent_3EUC">The work on this Wiki is still in progress. Consider contributing by using the in page editor or creating a <a href="https://github.com/iota-community/iota-wiki">PR directly</a></div></div><nav class="navbar navbar--fixed-top navbarHideable_1VR7"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="IOTA Wiki Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo_dark.svg" alt="IOTA Wiki Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><a class="navbar__item navbar__link" href="/docs/learn/about-iota/an-introduction-to-iota">Learn</a><a class="navbar__item navbar__link" href="/docs/use/use-cases/industry-applications">Use</a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="icon-wasp navbar__link--active" href="/wasp/welcome">Develop &gt; Wasp Node</a><ul class="dropdown__menu"><li><a class="dropdown__link icon-getting-started" href="/docs/develop/getting-started/architecture">Getting Started</a></li><li style="font-size:10px;color:var(--ifm-color-emphasis-600);padding-top:10px">Chrysalis (IOTA 1.5)</li><li><a class="dropdown__link icon-chrysalis" href="/chrysalis-docs/welcome">Chrysalis Docs</a></li><li><a class="dropdown__link icon-bee" href="/bee/getting_started/getting_started">Bee Node</a></li><li><a class="dropdown__link icon-hornet" href="/hornet/welcome">Hornet Node</a></li><li style="font-size:10px;color:var(--ifm-color-emphasis-600);padding-top:10px">Libraries</li><li><a class="dropdown__link icon-iota-mark" href="/iota.rs/welcome">Core</a></li><li><a class="dropdown__link icon-wallet" href="/wallet.rs/welcome">Wallet</a></li><li><a class="dropdown__link icon-stronghold" href="/stronghold.rs/welcome">Stronghold</a></li><li><a class="dropdown__link icon-identity" href="/identity.rs/intro">Identity</a></li><li style="font-size:10px;color:var(--ifm-color-emphasis-600);padding-top:10px">Smart Contracts</li><li><a aria-current="page" class="dropdown__link icon-wasp dropdown__link--active" href="/wasp/welcome">Wasp Node</a></li><li style="font-size:10px;color:var(--ifm-color-emphasis-600);padding-top:10px">Coordicide (IOTA 2.0)</li><li><a class="dropdown__link icon-iota-20" href="/IOTA-2.0-Research-Specifications/Preface">Coordicide Specs</a></li><li><a class="dropdown__link icon-goshimmer" href="/goshimmer/welcome">GoShimmer Node</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/participate/support-the-network/run-a-node">Participate</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="wiki-search" role="button" tabindex="-1"><div class="wiki-search-opened"><span class="toggle_10iL" style="font-family:Material Icons">close</span></div><div class="wiki-search-closed"><span class="toggle_10iL" style="font-family:Material Icons">search</span></div><input type="checkbox" class="wiki-search-screenreader-only" aria-label="Open and close search"></div><div class="wiki-search-page"><div class="wiki-search-header"></div><div class="wiki-search-main"><div class="wiki-search-bar"><div class="wiki-search-logo"><span class="toggle_10iL" style="font-family:Material Icons">search</span></div><input class="wiki-search-input"></div></div></div><div class="react-toggle toggle_2xs0 react-toggle--checked react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3D-N" style="font-family:Material Icons">light_mode</span></div><div class="react-toggle-track-x"><span class="toggle_3D-N" style="font-family:Material Icons">dark_mode</span></div></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><main class="docMainContainer_3ufF docMainContainerEnhanced_3NYZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">tr-fa</h1></header><p><em>Obsolete. To be adjusted to the new version</em></p><hr><header><h1 class="h1Heading_27L5">Handling tagged tokens with <em>TokenRegistry</em> and <em>FairAuction</em></h1></header><p>Tagged tokens, (a.k.a. colored tokens) is a powerful feature of the <a href="/wasp/misc/utxo">UTXO ledger</a>.
Two PoC smart contracts, <em>TokenRegistry</em> and <em>FairAuction</em> demonstrates how smart contract can manipulate them and
extend their functions. The demo dashboards can be found <a href="http://waspdev01.iota.cafe:10000" target="_blank" rel="noopener noreferrer">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="tokenregistry"></a><em>TokenRegistry</em><a class="hash-link" href="#tokenregistry" title="Direct link to heading">#</a></h2><p>Any wallet can mint tagged tokens by creating transaction output with <code>new-color</code>. The <em>minting</em>
means &quot;tagging&quot; the iota tokens with color code, &quot;painting&quot; iota tokens.</p><p>The tagged tokens then can be moved around and sent to addresses just like any other token.
The tag of it, the <code>color</code>, is a 32 byte long code which doesn&#x27;t say much about the token.</p><p>The <em>TokenRegistry</em> is a simple smart contract which keeps a registry of tagged tokens with their metadata.
It also keeps cryptographical proof when, how many and which address minted the tagged tokens. </p><p>The program Go code with program hash <code>8h2RGcbsUgKckh9rZ4VUF75NUfxP4bj1FC66oSF9us6p</code> of the smart contract
can be found <a href="https://github.com/iotaledger/wasp" target="_blank" rel="noopener noreferrer">in repository TODO</a>.</p><p>The following command mints 3 tokens into the same address of the wallet.</p><p><code>wasp-cli fa mint &quot;My first 3 coins&quot; 3</code></p><p>With <code>fa</code> tag <code>wasp-cli</code> derives we are dealing with the <code>TokenRegistry</code>.
The  command creates a transaction which contains wor things in it:</p><ul><li>&quot;minting&quot; itself, assigning the new tag to 3 iotas asn sending them to the same address</li><li>the <code>mint</code> request to the <em>TokenRegistry</em>.</li></ul><p>It is an atomic operation: either both token minting and sending the request is successful, or none of it.</p><p>The program will output something like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">using Goshimmer host waspdev03.iota.cafe:8080</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Minted 3 tokens of color Fu5UEJ2SiJZdTUbS72NkQ9uyQPQtqMDJW4SodDdr5G1w into address WoCZCHKr1AsbDXXyPQn5JDs7jkbQ2LNDrADXGXTqB7pW.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Metadata of the supply: &#x27;test coin for an auction&#x27;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Metadata was sent to TokenRegistry SC at bX3H7Sfh8Ez3g5ygevbUnchTKm6NjTtD3MsHQKGuMTgC</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The minted tokens goes right into the same address which created the <code>mint</code> request.</p><p>The request itself is picked by the SC and result in record in the state of it. It contains:</p><ul><li>color of the minted tokens</li><li>minted supply, 3 in this case</li><li>address, the originator of the new supply</li><li>description text</li><li>any optional attached metadata</li></ul><p>The record cannot be faked, and it is immutable in the smart contract.
So, if a supply was minted with the <em>TokenRegistry</em>,
the metadata contained in it can be trusted by anyone, because it is a cryptographical proof it is correct.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="fairauction"></a><em>FairAuction</em><a class="hash-link" href="#fairauction" title="Direct link to heading">#</a></h2><p>What can we do with tagged tokens? They actually can represent real world assets, like shares,
collectible tokens or any other use case. The powerful thing is those tokens can be moved around the ledger
between addresses using standard IOTA wallet: there&#x27;s no need for any smart contracts.</p><p>But if we want to sell it on the market, we have to entrust someone who is running that market and send it the
token(s) we want to sell. Example of would be an exchange.</p><p>Here we provide alternative: a simple demo smart contract <em>FairAuction</em> which implements a simple
distributed marketplace where you can sell and buy tagged tokens for iotas in an auction.</p><p>In order to sell one of 3 tokens we minted above we can use the following command:</p><p><code>wasp-cli fa start-auction &quot;my first auction&quot; Fu5UEJ2SiJZdTUbS72NkQ9uyQPQtqMDJW4SodDdr5G1w 1 100 60</code> </p><p>The command will send request to the smart contract instance and it will start auction for 1 token of
color <code>Fu5UEJ2SiJZdTUbS72NkQ9uyQPQtqMDJW4SodDdr5G1w</code> with minimum bid of 100 iotas and duration of 60 minutes.</p><p>With the <code>start-auction</code> request the tagged token will be sent to the smart contract address. </p><p>Smart contract starts an auction by self-posting <code>close-auction</code> request which is <strong>time-locked</strong> for the duration
of the auction, i.e. in the example above for 60 minutes.
The committee nodes will automatically run that request after 60 minutes as a result of consensus between nodes that
auction closing time is over.  </p><p>Next 60 minutes anyone can place bids in the auction with commands like this:</p><p><code>wasp-cli fa place-bid Fu5UEJ2SiJZdTUbS72NkQ9uyQPQtqMDJW4SodDdr5G1w 120</code></p><p>Upon expiration of the duration of the auction, the time-locked request will be unlocked and
auction will be closed by selecting first bidder with the highest bid as a winner.
It is all programmed in the <a href="https://github.com/iotaledger/wasp" target="_blank" rel="noopener noreferrer">code of the smart contract TODO</a>.</p><p>The smart contract will transfer tokens for sale to the winner and will return all placed sums to non-winning bidders.
It is all codded in the smart contract and it can&#x27;t be overriden by any parties which do not have quorum.
Hence <em>FairAuction</em>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tokenregistry" class="table-of-contents__link"><em>TokenRegistry</em></a></li><li><a href="#fairauction" class="table-of-contents__link"><em>FairAuction</em></a></li></ul></div></div></div></div></main></div></div><footer class="footer padding--none padding-top--xl"><div class="row footer__links padding-top--lg padding-bottom--xl"><div class="col footer__col"><h4 class="footer__title">LEARN</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/learn/about-iota/an-introduction-to-iota">About IOTA</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/learn/iota-token/overview">IOTA Token</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/learn/wallets/what-is-a-wallet">Wallets</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/learn/networks/iota-1.5-chrysalis">Networks</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/learn/resource-materials/glossary">Resource Materials</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/learn/research/research-outline">Research</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">USE</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/use/use-cases/industry-applications">Use Cases</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/use/streams/encrypted-data-comms">Streams</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/use/identity/enabling-privacy-and-trust">Identity</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/use/access/secure-access-control">Access</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/use/smart-contracts/programmable-contracts">Smart Contracts</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/use/stronghold/protecting-your-secrets">Stronghold</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/use/oracles/trust-in-real-world-data">Oracles</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/use/utilities/tangle-explorer">Utilities</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">DEVELOP</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/develop/getting-started/architecture">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/develop/fundamentals/cryptography">Fundamentals</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/develop/exchange-integration/guide">Exchange Integration</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/develop/tutorials/youtube">Tutorials</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">PARTICIPATE</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/participate/support-the-network/run-a-node">Support the network</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/participate/the-community/discord">The Community</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/participate/partnerships/iota-partnerships">Partnerships</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/participate/funding/edf-funding">Funding</a></li></ul></div></div><div class="footer__bottom padding-top--xl padding-bottom--lg"><div><a href="https://www.iota.org" target="_blank" rel="noopener noreferrer"><img src="/img/iota_logo.svg" alt="IOTA Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/iota_logo_dark.svg" alt="IOTA Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">© 2021 IOTA Wiki, Built with Docusaurus.</div></div><div class="socialBar_2nY3"><a class="padding-horiz--sm padding-vert--md socialLink_1As6" style="background-color:#18243C" href="https://www.youtube.com/c/iotafoundation"><img class="socialImage_2plZ" src="/img/youtube.svg"><div class="socialTitle_3JEm">Youtube</div></a><a class="padding-horiz--sm padding-vert--md socialLink_1As6" style="background-color:#24314A" href="https://www.github.com/iotaledger/"><img class="socialImage_2plZ" src="/img/github.svg"><div class="socialTitle_3JEm">GitHub</div></a><a class="padding-horiz--sm padding-vert--md socialLink_1As6" style="background-color:#303C56" href="https://discord.iota.org/"><img class="socialImage_2plZ" src="/img/discord.svg"><div class="socialTitle_3JEm">Discord</div></a><a class="padding-horiz--sm padding-vert--md socialLink_1As6" style="background-color:#3B4862" href="https://www.twitter.com/iota/"><img class="socialImage_2plZ" src="/img/twitter.svg"><div class="socialTitle_3JEm">Twitter</div></a><a class="padding-horiz--sm padding-vert--md socialLink_1As6" style="background-color:#47546F" href="https://www.reddit.com/r/iota/"><img class="socialImage_2plZ" src="/img/reddit.svg"><div class="socialTitle_3JEm">Reddit</div></a><a class="padding-horiz--sm padding-vert--md socialLink_1As6" style="background-color:#52607B" href="https://www.linkedin.com/company/iotafoundation/"><img class="socialImage_2plZ" src="/img/linkedin.svg"><div class="socialTitle_3JEm">Linkedin</div></a><a class="padding-horiz--sm padding-vert--md socialLink_1As6" style="background-color:#5E6B87" href="https://www.instagram.com/iotafoundation/"><img class="socialImage_2plZ" src="/img/instagram.svg"><div class="socialTitle_3JEm">Instagram</div></a></div></footer></div>
<script src="/assets/js/runtime~main.1e16e89f.js"></script>
<script src="/assets/js/main.c81b7703.js"></script>
</body>
</html>